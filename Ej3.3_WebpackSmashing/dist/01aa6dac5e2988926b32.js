(function(){var t,e;ddsmoothmenu.init({mainmenuid:"mainmenu",orientation:"h",contentsource:"markup",classname:"menu"}),jQuery("nav.menu > ul").tinyNav({active:"current-menu-item"}),(t=$("#portfolio-filter")).data("cols"),$(window).load((function(){return t.isotope({itemSelector:".portfolio_item"})})),$(window).resize((function(){return t.isotope({itemSelector:".portfolio_item"})})),$("#filters a").click((function(){var e;return e=$(this).attr("data-filter"),$("#filters a").removeClass("active"),$(this).addClass("active"),t.isotope({filter:e}),!1})),$(window).load((function(){return $(".blog_grid").isotope({itemSelector:".post",masonry:{columnWidth:$(".blog_grid").width()/3}})})),$(window).resize((function(){return $(".blog_grid").isotope({itemSelector:".post",masonry:{columnWidth:$(".blog_grid").width()/3}})})),$(".portfolio_item a").attr("rel","portfolio"),$(".fancybox, .portfolio_item a").fancybox({padding:0,closeBtn:!1,helpers:{title:{type:"outside"},buttons:{position:"bottom"}}}),jQuery(".price-table a").tooltip(),jQuery(".flickr_widget").each((function(){var t,e;return $(this),e=$(this).data("flickr-id"),t=$(this).data("count"),jQuery.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?ids="+e+"&lang=en-us&format=json&jsoncallback=?",(function(e){var o;return o=0,jQuery.each(e.items,(function(e,i){return o>=t&&next,jQuery("<img/>").attr("src",i.media.m).appendTo(".flickr_widget").wrap("<a href='"+i.link+"'></a>"),o++}))}))})),e=function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\.+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},$("#contact_form").submit((function(){var t,o,i,n;return $(".alert",this).remove(),$("input[type=submit]").attr("disabled","disabled"),i=$("#name",this).val(),t=$("#email",this).val(),n=$("#subject",this).val(),o=$("#message",this).val(),""===i||""===t||""===n||""===o?($("#contact_form").prepend('<div class="alert">\n\t<button type="button" class="close" data-dismiss="alert">×</button>\n\t<strong>Error!</strong> No fields can be left blank.\n</div>'),$("input[type=submit]").removeAttr("disabled"),!1):e(t)?($.post("mailer.php",{name:i,email:t,subject:n,message:o},(function(t){if(""===t&&$("#contact_form").prepend('<div class="alert alert-danger">\n\t<button type="button" class="close" data-dismiss="alert">×</button>\n\t<strong>Error!</strong> Something went wrong, try later.\n</div>'),"success"===t)return $("#contact_form").prepend('            <div class="alert alert-success">\n\t<button type="button" class="close" data-dismiss="alert">×</button>\n\t<strong>Success!</strong> Your message was sent.\n</div>'),$("#contact_form input[type=text], #contact_form input[type=email], #contact_form textarea").val(""),$("input[type=submit]").removeAttr("disabled")})),!1):($("#contact_form").prepend('<div class="alert">\n\t<button type="button" class="close" data-dismiss="alert">×</button>\n\t<strong>Warning!</strong> That doesn\'t look like a valid email.\n</div>'),$("input[type=submit]").removeAttr("disabled"),!1)}))}).call(this);